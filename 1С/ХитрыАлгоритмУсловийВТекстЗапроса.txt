Например в Отбор.Аналитика у нас Массив структур вида  ("Субконто1", ЗначениеСубконто1) и ("Субконто2", ЗначениеСубконто2)

Алгоритм:

	Условие = "Портфель = &Портфель";
	Если Не Параметры.ЗаполнениеПоОперациямЗаДень Тогда
		Если ЗначениеЗаполнено(Параметры.Отбор.Аналитика) Тогда
			Для Каждого КлючЗначение Из Параметры.Отбор.Аналитика Цикл
				Условие = Условие + " И " + КлючЗначение.Ключ + " В (&" + КлючЗначение.Ключ + ")";
			КонецЦикла;
			Для Каждого КлючЗначение Из Параметры.Отбор.Аналитика Цикл
				Запрос.УстановитьПараметр(КлючЗначение.Ключ, КлючЗначение.Значение)
			КонецЦикла;
		КонецЕсли;
	КонецЕсли;
	ТекстЗапросаОстаткиНаСчетах = СтрЗаменить(ТекстЗапросаОстаткиНаСчетах, "&Условия", Условие);


Пример результата:

	РегистрБухгалтерии.ЕПС.Остатки(
			&Период,
			Счет.Вид = ЗНАЧЕНИЕ(ВидСчета.Активный)
				И Счет В (&Счета),
			,
			Портфель = &Портфель
				И Субконто1 В (&Субконто1)
				И Субконто2 В (&Субконто2)) КАК ЕПСОстатки

Надо доработать универсальность,
чтобы по типу значения в ЗначениеСубконто1, ЗначениеСубконто2 определялось приведение ВЫРАЗИТЬ
и результат был бы, например (если тип ЗначениеСубконто1 = Справочник.Активы, а тип ЗначениеСубконто2 = Перечисление.ЧастиЦенныхБумаг), таким:


	РегистрБухгалтерии.ЕПС.Остатки(
			&Период,
			Счет.Вид = ЗНАЧЕНИЕ(ВидСчета.Активный)
				И Счет В (&Счета),
			,
			Портфель = &Портфель
				И ВЫРАЗИТЬ(Субконто1 КАК Справочник.Активы) В (&Субконто1)
				И ВЫРАЗИТЬ(Субконто2 КАК Перечисление.ЧастиЦенныхБумаг) В (&Субконто2)) КАК ЕПСОстатки

